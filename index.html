<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AgriWater Flow | CropWAT Lite</title>
    <style>
        /* Modern Green Theme Styling */
        :root {
            --primary-green: #2e7d32;
            --light-green: #e8f5e9;
            --accent-green: #4caf50;
            --white: #ffffff;
            --shadow: 0 8px 30px rgba(0,0,0,0.1);
        }

        body {
            font-family: 'Segoe UI', Roboto, sans-serif;
            background-color: #f4f7f6;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
        }

        .app-card {
            background: var(--white);
            padding: 2rem;
            border-radius: 20px;
            box-shadow: var(--shadow);
            width: 100%;
            max-width: 400px;
            text-align: center;
        }

        h2 { color: var(--primary-green); margin-bottom: 0.5rem; }
        p.subtitle { color: #666; font-size: 0.9rem; margin-bottom: 2rem; }

        .input-group {
            text-align: left;
            margin-bottom: 1.2rem;
        }

        label {
            display: block;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #333;
        }

        select, input {
            width: 100%;
            padding: 12px;
            border: 2px solid #eee;
            border-radius: 10px;
            font-size: 1rem;
            transition: 0.3s;
            box-sizing: border-box;
        }

        select:focus, input:focus {
            border-color: var(--accent-green);
            outline: none;
        }

        button {
            width: 100%;
            padding: 15px;
            background: var(--primary-green);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: 0.3s;
            margin-top: 10px;
        }

        button:hover { background: var(--accent-green); transform: translateY(-2px); }

        #result-section {
            margin-top: 2rem;
            padding: 1.5rem;
            background: var(--light-green);
            border-radius: 12px;
            display: none; /* Initially hidden */
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .liters-text {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--primary-green);
            margin: 10px 0;
        }

        .soil-advice {
            font-size: 0.85rem;
            color: #555;
            line-height: 1.4;
        }
    </style>
</head>
<body>

<div class="app-card">
    <h2>AgriWater Flow</h2>
    <p class="subtitle">Based on FAO CropWAT Methodology</p>

    <div class="input-group">
        <label>Crop Name</label>
        <select id="cropSelect">
            <option value="1.15">Maize (Corn)</option>
            <option value="1.05">Wheat</option>
            <option value="1.10">Rice</option>
            <option value="0.80">Potato</option>
        </select>
    </div>

    <div class="input-group">
        <label>Farm Area (Hectares)</label>
        <input type="number" id="areaInput" placeholder="e.g., 2.5" step="0.1">
    </div>

    <div class="input-group">
        <label>Soil Type</label>
        <select id="soilSelect">
            <option value="Sandy">Sandy (Retili)</option>
            <option value="Loamy">Loamy (Domat)</option>
            <option value="Clay">Clay (Chikni)</option>
        </select>
    </div>

    <button onclick="calculateIrrigation()">Calculate Water Need</button>

    <div id="result-section">
        <div style="font-weight: bold;">Daily Water Required:</div>
        <div class="liters-text" id="litersResult">0 Liters</div>
        <div class="soil-advice" id="adviceResult"></div>
    </div>
</div>

<script>
    function calculateIrrigation() {
        // 1. Get Values
        const kc = parseFloat(document.getElementById('cropSelect').value);
        const area = parseFloat(document.getElementById('areaInput').value);
        const soil = document.getElementById('soilSelect').value;
        const eto = 5.0; // Average daily reference ET (mm/day)

        // 2. Validate
        if (!area || area <= 0) {
            alert("Please enter a valid area.");
            return;
        }

        // 3. Algorithm: Area * 10,000 (m2/ha) * (ETo * Kc)
        // Note: 1mm of water on 1m2 = 1 Liter
        const totalWater = (area * 10000) * (eto * kc);

        // 4. Update UI
        document.getElementById('litersResult').innerText = totalWater.toLocaleString() + " Liters";
        
        let advice = "";
        if (soil === "Sandy") advice = "Sandy soil drains fast. Water more frequently in smaller amounts.";
        else if (soil === "Clay") advice = "Clay soil holds water. Avoid over-watering to prevent flooding.";
        else advice = "Loamy soil is ideal for balanced water retention.";

        document.getElementById('adviceResult').innerText = advice;
        document.getElementById('result-section').style.display = 'block';
    }
</script>

</body>
</html>
